## Asset freeze

### Send frozen asset

Assume that we have the following accounts:
```
goal account list

AYQJVSEBPRM26SOLWRFFOULELKONQKVAKPRDBI6DQRRJTESLUZDDFCZS3A
	99898000 microAlgos
PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU
	290000 microAlgos [created asset IDs: 12279877 (10 )]
	0 units    (creator PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU, ID 12279877)
WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4
	99788000 microAlgos
        10 units    (creator PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU, ID 12279877)
```
where the asset creator PB3... is also the freezer manager of the asset.

We freeze the asset at account WGJ...:
```
goal asset freeze --account WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4 --assetid 12279877 --freeze --freezer PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU

Issued transaction from account PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU, txid 4WVJBJZFS2FNPMVGMGNH344FOLQCSTCBGOHX7CSZMLZ7VWPGWB2Q (fee 1000)
Transaction 4WVJBJZFS2FNPMVGMGNH344FOLQCSTCBGOHX7CSZMLZ7VWPGWB2Q still pending as of round 9437991
Transaction 4WVJBJZFS2FNPMVGMGNH344FOLQCSTCBGOHX7CSZMLZ7VWPGWB2Q committed in round 9437993
```

We try to send 5 units of the asset from WGJ... to PB3...:
```
goal asset send -a 5 --assetid 12279877 -f WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4 -t PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU -o tx-freeze.tx -s
```

As expected, the transaction fails:
```
goal clerk rawsend -f tx-freeze.tx

Warning: Couldn't broadcast tx with algod: HTTP 400 Bad Request: TransactionPool.Remember: transaction MHTLU4F2MQJKX6STDXX26ZXFW5YJL46KH7Q5XEFIMFALANJMHCZQ: asset 12279877 frozen in WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4
Encountered errors in sending 1 transactions:
  MHTLU4F2MQJKX6STDXX26ZXFW5YJL46KH7Q5XEFIMFALANJMHCZQ: HTTP 400 Bad Request: TransactionPool.Remember: transaction MHTLU4F2MQJKX6STDXX26ZXFW5YJL46KH7Q5XEFIMFALANJMHCZQ: asset 12279877 frozen in WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4
```

### Freeze twice

Freezing a frozen asset succeeds:
```
goal asset freeze --account WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4 --assetid 12279877 --freeze --freezer PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU

Issued transaction from account PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU, txid I4WCXE7QRSB5E4ASDC5S5JG7TFZY2NE6P4DAOCAM2UHVDTMCQL3A (fee 1000)
Transaction I4WCXE7QRSB5E4ASDC5S5JG7TFZY2NE6P4DAOCAM2UHVDTMCQL3A still pending as of round 9438080
Transaction I4WCXE7QRSB5E4ASDC5S5JG7TFZY2NE6P4DAOCAM2UHVDTMCQL3A committed in round 9438082
```

### Unfreezing an asset

We unfreeze the asset, and then attempt again to send 5 units:
```
goal asset freeze --account WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4 --assetid 12279877 --freeze=false --freezer PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU

Issued transaction from account PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU, txid KYDQJ2GGNCCGEIF4VQVAQKQWF3SFXB2H32GUX44AVHF53U43DL3Q (fee 1000)
Transaction KYDQJ2GGNCCGEIF4VQVAQKQWF3SFXB2H32GUX44AVHF53U43DL3Q still pending as of round 9438088
Transaction KYDQJ2GGNCCGEIF4VQVAQKQWF3SFXB2H32GUX44AVHF53U43DL3Q committed in round 9438090
```

As expected, now sending the pay transaction succeeds:
```
goal clerk rawsend -f tx-freeze.tx

Raw transaction ID MHTLU4F2MQJKX6STDXX26ZXFW5YJL46KH7Q5XEFIMFALANJMHCZQ issued
Transaction MHTLU4F2MQJKX6STDXX26ZXFW5YJL46KH7Q5XEFIMFALANJMHCZQ still pending as of round 9438339
Transaction MHTLU4F2MQJKX6STDXX26ZXFW5YJL46KH7Q5XEFIMFALANJMHCZQ committed in round 9438341
```


### Receive frozen asset

We now freeze again the asset:
```
goal asset freeze --account WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4 --assetid 12279877 --freeze --freezer PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU

Issued transaction from account PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU, txid ANWH23GIZTK7YQ4RBL6NZPA77W2URBND2OPCKOBTV46NLWD3OLQA (fee 1000)
Transaction ANWH23GIZTK7YQ4RBL6NZPA77W2URBND2OPCKOBTV46NLWD3OLQA still pending as of round 9438375
Transaction ANWH23GIZTK7YQ4RBL6NZPA77W2URBND2OPCKOBTV46NLWD3OLQA committed in round 9438377
```

We now try to send one unit of the asset from PB3... to the account WGJ..., where the asset is frozen:
```
goal asset send -a 1 --assetid 12279877 -t WGJVDVVHS7VBNNPBW4CXR4IRVS3J6IHSU3TV57BE5QMHD74HNYPNS62NV4 -f PB3WPU4KGRK3K3DRZTGIARSVJSUKHL2LG5B4HDMEOBLDRBPKTOY734KFKU -o tx-freeze.tx -s
```

The transaction fails:
```
goal clerk rawsend -f tx-freeze.tx

Warning: Couldn't broadcast tx with algod: HTTP 400 Bad Request: TransactionPool.Remember: transaction 6NX3BO23UXDF5DRQTECMPOBY6Z3BRJGQGKX6KIZRRGHC3KDZV53A: asset frozen in recipient
Encountered errors in sending 1 transactions:
  6NX3BO23UXDF5DRQTECMPOBY6Z3BRJGQGKX6KIZRRGHC3KDZV53A: HTTP 400 Bad Request: TransactionPool.Remember: transaction 6NX3BO23UXDF5DRQTECMPOBY6Z3BRJGQGKX6KIZRRGHC3KDZV53A: asset frozen in recipient
```
